
# Blockchain Fundamentals [https://www.oreilly.com/library/view/hands-on-smart-contract/9781492086116/ch01.html]

Blockchain is a distributed, decentralized, and immutable digital ledger that records data in a series of blocks, each cryptographically linked to the previous one, forming a chain. It enables secure, transparent, and decentralized record-keeping, eliminating the need for intermediaries.

## Core Concepts

1. **Distributed Network**
   - A distributed network spreads processing and data storage across multiple nodes that work together.

2. **Decentralized Network**
   - A decentralized network is where no single node or authority has complete control.

3. **Blockchain Network**
   - A Blockchain network typically has one main chain agreed upon by the majority of nodes. This is the longest chain with the most valid and up-to-date data.
   - **Distributed**: Every node maintains a copy of the entire blockchain within a P2P network.
   - **Decentralized**: The nodes communicate to validate and agree on adding new blocks to the chain.

4. **Ledgers**
   - Ledgers are records of data (e.g., transactions).
   - **Uses of Ledgers Include**:
     - **Cryptocurrency**: Ledgers record transactions made within a specific cryptocurrency network (e.g., Bitcoin).
     - **Supply Chain Management**: Ledgers record the movement of goods.
     - **Healthcare**: Ledgers record medical records of patients.

5. **Blocks**
   - **Blocks Contain**:
     1. **Block Header**:
        - **Universal Fields**:
          - **Version**: Protocol version of the blockchain.
          - **Previous Block Hash**: Hash of the previous block's header.
          - **Timestamp**: Approximate creation time of the block.
          - **Merkle Root (or Equivalent)**: Root hash summarizing all data in the block. Specifically, it is the hash value at the top of a Merkle tree (or equivalent data structure) used to summarize and verify the integrity of large sets of data. If a blockchain only contains e.g. one transaction per block, the concept of a merkle root might be less critical.
        - **Additional Fields Specific to Cryptocurrency based on Proof-Of-Work Consensus**:
          - **Difficulty Target**: Criteria for block validation.
          - **Nonce**: Value adjusted to achieve a valid block hash.
     2. **Block Content**:
        - Ledger data, used to form part of the blockchain's ledger.

6. **Consensus Mechanism**
   - Consensus is a trust mechanism for multiple network nodes to agree on a single version of the blockchain (ledger). Many consensus mechanisms for blockchain exist.

7. **Hashing**
   - Hash functions are a one-way cryptographic function that produces a string unique to some input data. In blockchain, hashes are created for each block's data to ensure its integrity, as well as the entire chain's integrity by linking to the previous block's hash.

8. **Digital Signatures**
   - Digital signatures use a private key to encrypt text and a public key to decrypt text.
   - In blockchain, signatures are used to sign the individual data of blocks to:
     - Authenticate that the data was generated by a sender.
     - Ensure the signed data has not been changed.

9. **Smart Contracts**
   - These are programmable contracts that automatically execute predefined conditions.


#  Blockchain in Cryptocurrency

In Cryptocurrency:

- The blocks' contents store financial transactions specific to a certain cryptocurrency network.
- The consensus algorithm is used to validate these financial transactions.

## Proof-of-Work (PoW) Consensus Algorithm

One possible consensus algorithm for cryptocurrency is **Proof-of-Work (PoW)**:

- **PoW Block Structure**:
  1. **Difficulty Target**:
     - A number of zeros that miners (nodes) are trying to obtain in their output hash.
     - This regulates the difficulty of mining new blocks and ensures blocks are added at a consistent rate.
  2. **Nonce**:
     - A value that is adjusted during the block validation or creation process.
     - This is used to generate a hash that meets the required criteria for adding the block to the blockchain.

- **PoW Algorithm**:
  1. **Cryptographic Puzzle**:
     - Miners select and verify transactions from a pool of unconfirmed ones and organize these into a new block.
     - They then solve a puzzle: finding a "version" of their block that produces a "valid hash".
       - A valid hash is any hash with a certain number of leading zeros specified by the difficulty target.
       - Miners do this by varying only their block's nonce, keeping the rest fixed, and then hashing the block.

  2. **Chain Growth**:
     - The first successful miner broadcasts their block to the network.
     - Other nodes in the network verify the block's validity, and the block is added to the chain.
     - The miner is rewarded with cryptocurrency and the block's transaction fees.

  3. **Chain Consensus**:
     - The network's "main chain" is the longest valid chain owned by any node.
     - The nodes must communicate with each other to determine this.
     - In case of a tie (e.g., two blocks found at the same time), the network waits until more blocks are mined, and one chain becomes longer.
